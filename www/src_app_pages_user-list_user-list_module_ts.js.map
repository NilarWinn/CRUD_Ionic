{"version":3,"file":"src_app_pages_user-list_user-list_module_ts.js","mappings":"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","sources":["./src/app/pages/user-list/user-list-routing.module.ts","./src/app/pages/user-list/user-list.module.ts","./src/app/pages/user-list/user-list.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { UserListPage } from './user-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserListPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UserListPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UserListPageRoutingModule } from './user-list-routing.module';\n\nimport { UserListPage } from './user-list.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    UserListPageRoutingModule\n  ],\n  declarations: [UserListPage]\n})\nexport class UserListPageModule {}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { IonFab, IonInfiniteScroll, NavController, PopoverController } from '@ionic/angular';\nimport { ApiService } from 'src/app/services/api.service';\nimport { SettingPage } from '../setting/setting.page';\n\n@Component({\n  selector: 'app-user-list',\n  templateUrl: './user-list.page.html',\n  styleUrls: ['./user-list.page.scss'],\n})\nexport class UserListPage implements OnInit {\n  @ViewChild('fabComponent') fabComponent: IonFab;\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\n  userList = [];\n  popover: any;\n  isSearch = false;\n  isOpen = false;\n  searchData : any;\n  isLoadMore = true;\n  start = 1\n  end = 0\n\n  constructor(private nav: NavController,\n    private api : ApiService,\n    private popoverController : PopoverController) { }\n\n  ngOnInit() { }\n\n  ionViewWillEnter() {\n    this.isSearch = false;\n    this.getUserList(this.start)\n  }\n\n  getUserList(start) {\n    this.api.getUserList(start).subscribe(data => {\n      var responseData : any = data;\n      console.log(responseData)\n      if (responseData.success == true) {\n        var dataList:any = responseData.data.docs;\n        this.end = responseData.data.nextPage != null ? responseData.data.nextPage : 1;\n        console.log(dataList)\n        console.log(dataList.length)\n        dataList.forEach((item, index) => {\n          this.userList.push(item)\n        })\n      }\n    })\n  }\n\n  // display popover for edit and delete function\n  async presentPopover(ev: any, userId: any, userData) {\n    console.log(userId)\n    this.popover = await this.popoverController.create({\n      component: SettingPage,\n      event: ev,\n      cssClass: 'popover_setting',\n      componentProps: {\n        id: userId\n      },\n      translucent: true,\n    });\n    this.popover.onDidDismiss().then((result) => {\n      var response:any = result.data\n      console.log(\"selected post id : \", response.id);\n      if (response.type == \"edit\") {\n        console.log(\"selected edit\");\n        let params: any = {\n          isEdit : true,\n          userData : userData\n        }\n        this.nav.navigateForward('main/tabs/add-new-user', { state: params });\n      }else{\n        console.log(\"selected delete\");\n      }\n    });\n    return await this.popover.present();\n  }\n\n  // Load more data\n  loadData(event) {\n    setTimeout(() => {\n      console.log('Done');\n      event.target.complete();\n      this.start += 1;\n      this.getUserList(this.start)\n       if (this.start >= this.end) {\n        event.target.disabled = true;\n      }\n      if (this.start > this.end) {\n       event.target.disabled = true;\n        this.isLoadMore = false\n      }\n    }, 500);\n  }\n\n  toggleInfiniteScroll() {\n    this.infiniteScroll.disabled = !this.infiniteScroll.disabled;\n  }\n\n  //Floating action button\n  floatingBtn() {\n    console.log(\"floatingBtn\")\n    this.isOpen = true\n  }\n\n  search() {\n    this.isOpen = false\n    console.log(\"search\")\n    this.isSearch = true\n    this.searchData = \"\"\n  }\n\n  // For search textfield\n  ionChange(event){\n    console.log( event.detail.value)\n  }\n\n  onCancel(){\n    console.log(\"onCancel\" + this.searchData)\n  }\n\n  close(){\n    console.log(\"close\" + this.searchData)\n  }\n\n  onClear(event) {\n    this.isSearch = false\n    console.log(\"onClear\" )\n  }\n\n  touchstart(event){\n    console.log(\"touchstart\" ,this.isOpen)\n    this.fabComponent.close();\n  }\n\n}\n"],"names":["Component","ViewChild","IonInfiniteScroll","NavController","PopoverController","ApiService","SettingPage","UserListPage","constructor","nav","api","popoverController","ngOnInit","ionViewWillEnter","isSearch","getUserList","start","subscribe","data","responseData","console","log","success","dataList","docs","end","nextPage","length","forEach","item","index","userList","push","presentPopover","ev","userId","userData","popover","create","component","event","cssClass","componentProps","id","translucent","onDidDismiss","then","result","response","type","params","isEdit","navigateForward","state","present","loadData","setTimeout","target","complete","disabled","isLoadMore","toggleInfiniteScroll","infiniteScroll","floatingBtn","isOpen","search","searchData","ionChange","detail","value","onCancel","close","onClear","touchstart","fabComponent","args","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}