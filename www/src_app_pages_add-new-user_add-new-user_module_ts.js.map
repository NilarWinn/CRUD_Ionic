{"version":3,"file":"src_app_pages_add-new-user_add-new-user_module_ts.js","mappings":"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","sources":["./src/app/models/user.ts","./src/app/pages/add-new-user/add-new-user-routing.module.ts","./src/app/pages/add-new-user/add-new-user.module.ts","./src/app/pages/add-new-user/add-new-user.page.ts"],"sourcesContent":["export class User {\n     id: number;\n     name: String;\n     email: String;\n     password: number;\n     profile : String;\n     type : String;\n     phone: String;\n     address: String;\n     dob: String;\n     create_user_id: number;\n}","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AddNewUserPage } from './add-new-user.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddNewUserPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddNewUserPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddNewUserPageRoutingModule } from './add-new-user-routing.module';\n\nimport { AddNewUserPage } from './add-new-user.page';\n\n@NgModule({\n  imports: [\n    ReactiveFormsModule,\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AddNewUserPageRoutingModule\n  ],\n  declarations: [AddNewUserPage]\n})\nexport class AddNewUserPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { ActionSheetController, NavController } from '@ionic/angular';\nimport { IonLoaderServiceService } from 'src/app/services/ion-loader-service.service';\nimport { Camera,CameraOptions } from '@ionic-native/Camera/ngx';\nimport { User } from 'src/app/models/user';\n\n@Component({\n  selector: 'app-add-new-user',\n  templateUrl: './add-new-user.page.html',\n  styleUrls: ['./add-new-user.page.scss'],\n})\nexport class AddNewUserPage implements OnInit {\n  userForm: FormGroup;\n  submitted = false;\n  defaultDate = \"1987-06-30\";\n  customPopoverOptions ;\n  isEdit: Boolean = false;\n  userImg: any = '';\n  base64Img = '';\n  pwdShow = false;\n  confirmPwdShow = false;\n  userType : String = 'User'\n  userList = [\"User\", \"Admin\"]\n  userData : User;\n\n  constructor(\n    public actionSheetController: ActionSheetController,\n    private camera: Camera,\n    public formBuilder: FormBuilder,\n    private nav: NavController,\n    public loading : IonLoaderServiceService,public router: Router) { \n      this.customPopoverOptions = { cssClass : 'course-popover' };\n      if (router.getCurrentNavigation().extras.state) {\n        let params = router.getCurrentNavigation().extras.state;\n        this.isEdit = params.isEdit;\n        this.userData = params.userData;\n      }\n      this.userImg = 'assets/img/icon.png';\n    }\n\n  ngOnInit() {\n    this.userForm = this.formBuilder.group({\n      name: ['', [Validators.required ]],\n      email: ['', [Validators.required, Validators.pattern('[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$')]],\n      password: ['', [Validators.required, Validators.pattern(/[0-9]{6}/)]],\n      confirmPwd: ['', [Validators.required, Validators.pattern(/[0-9]{6}/) ]],\n      phone: ['', [Validators.required, Validators.pattern(/[0-9]{11}/)]],\n      dob: [''],\n      address : [''],\n      profile : [''],\n      userType : ['']\n    })\n  }\n\n  ionViewWillEnter() {\n    if(this.userData != null){\n      this.userForm.controls.name.setValue(this.userData.name)\n      this.userForm.controls.email.setValue(this.userData.email)\n      this.userForm.controls.phone.setValue(this.userData.phone)\n      this.userForm.controls.dob.setValue(this.userData.dob)\n      this.userForm.controls.address.setValue(this.userData.address)\n      this.userType = this.userData.type == '1' ? 'User' : 'Admin';\n      this.userForm.controls.password.setValue(this.userData.password)\n      this.userForm.controls.confirmPwd.setValue(this.userData.password)\n    }\n  }\n\n  get errorCtr() {\n    return this.userForm.controls;\n  }\n\n  matchingPasswords() {\n   return  this.userForm.controls.password.value == this.userForm.controls.confirmPwd.value \n  }\n\n  onSubmit(){\n    this.submitted = true;\n    if (!this.userForm.valid) {\n      this.loading.stopLoader()\n      console.log('All fields are required.')\n      return false;\n    } else {\n      if (this.matchingPasswords() == false){\n        return false\n      }\n      this.loading.showLoader()\n      console.log(this.userForm.value)\n      this.loading.stopLoader()\n      var user = new User()\n      user.name = this.userForm.controls.name.value\n      user.email = this.userForm.controls.email.value\n      user.password = this.userForm.controls.password.value\n      user.type = this.userForm.controls.userType.value\n      user.phone = this.userForm.controls.phone.value\n      user.address = this.userForm.controls.address.value\n      user.dob = this.userForm.controls.dob.value\n      console.log(\"user \", user)\n      let params: any = {\n        userData : user,\n        isEdit : this.isEdit,\n        userImg : this.userImg\n      }\n      this.nav.navigateForward('main/tabs/confirm-user', { state: params });\n    }\n  }\n\n  getDate(e) {\n    let date = new Date(e.target.value).toISOString().substring(0, 10);\n    this.userForm.get('dob').setValue(date, {\n       onlyself: true\n    })\n }\n\n  clear(){\n    this.userForm.reset()\n  }\n  \n  showPass(value, type){\n    if (type == 'password'){\n      this.pwdShow = !value\n    }else{\n      this.confirmPwdShow = !value\n    }\n  }\n\n  optionsType(user){\n    console.log(this.userForm.controls.userType.value)\n  }\n\n  async pickImage(sourceType) {\n   \n    const options: CameraOptions = {\n      quality: 100,\n      sourceType: sourceType,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE\n    }\n    this.camera.getPicture(options).then((imageData) => {\n      let base64Image = 'data:image/jpeg;base64,' + imageData;\n      this.userImg = base64Image;\n      console.log(base64Image)\n      this.userForm.get('profile').setValue(this.userImg)\n     }, (err) => {\n      console.log(err)\n     });\n  }\n\n  async selectImage() {\n    const actionSheet = await this.actionSheetController.create({\n      header: \"Select Image source\",\n      buttons: [{\n        text: 'Load from Library',\n        handler: () => {\n          this.pickImage(this.camera.PictureSourceType.PHOTOLIBRARY);\n        }\n      },\n      {\n        text: 'Use Camera',\n        handler: () => {\n          this.pickImage(this.camera.PictureSourceType.CAMERA);\n        }\n      },\n      {\n        text: 'Cancel',\n        role: 'cancel'\n      }\n      ]\n    });\n    await actionSheet.present();     \n  }\n\n  goToChangePassword() {\n    this.nav.navigateForward('main/tabs/change-password');\n  }\n}\n"],"names":["Component","FormBuilder","Validators","Router","ActionSheetController","NavController","IonLoaderServiceService","Camera","User","AddNewUserPage","constructor","actionSheetController","camera","formBuilder","nav","loading","router","customPopoverOptions","cssClass","getCurrentNavigation","extras","state","params","isEdit","userData","userImg","ngOnInit","userForm","group","name","required","email","pattern","password","confirmPwd","phone","dob","address","profile","userType","ionViewWillEnter","controls","setValue","type","errorCtr","matchingPasswords","value","onSubmit","submitted","valid","stopLoader","console","log","showLoader","user","navigateForward","getDate","e","date","Date","target","toISOString","substring","get","onlyself","clear","reset","showPass","pwdShow","confirmPwdShow","optionsType","pickImage","sourceType","options","quality","destinationType","DestinationType","DATA_URL","encodingType","EncodingType","JPEG","mediaType","MediaType","PICTURE","getPicture","then","imageData","base64Image","err","selectImage","actionSheet","create","header","buttons","text","handler","PictureSourceType","PHOTOLIBRARY","CAMERA","role","present","goToChangePassword","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}